<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>p5js Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.13/p5.js"></script>
    <script>
        var x = 0 
        var userY = 400
        var userX = 250
        var started = false;// to say that the game hasn't started or the user didnt press start yet 

        function setup() {
            createCanvas(500, 500);
        }

        function draw() {
            if (started) {// when the space bar is pressed 
                stroke(0)
                text("Press SPACE to play", 100, 250);// directing the player what to do
                
                
                x += 10  
                userY++;

                background(0);// background set to black

                userBall()// calling the function
                drawRectangle()//calling the function
                checkCollide()//calling the function
            }
            else {
                background(0);// still set to black
                stroke(0);
                textAlign(CENTER);
                textSize(30);
                fill(255)
                text("Press SPACE to play", width / 2, height / 2);// if nothing is being done then this phrase will stay on the screen
            }

        }

        function drawRectangle() {// function to create the retangle(obstacle)
            fill(0, 255, 0)// color set to green 
            rect(x, 250, 125, 15)// where the rectangle starts 
            if (x > width) {// once it reaches to the end of the wall (right) 
                x = 0// it will go back to 0 (left).
            }// This allow the rectangle to move horizontally  
        }

        function userBall() {
            fill(255, 0, 0)
            ellipse(userX, userY, 20, 20)// creates the circle at the certain position  
            fill(255)// red 
        }

        function keyPressed() {
            if (key == " ") {// when the player presses the spacebar
                started = true // shows that the game has started
                userY -= 20 // allow the ball to move up
            }
        }

        function checkCollide() {// checking function
            if (userY <= 0) {
                fill(0, 0, 255)
                textSize(30)
                text// checking if the ball has reached the top
                noLoop()// game ends 
            }
            if (userY > height) {
                fill(0, 0, 255)
                textSize(30)
                text("That's too Bad!", width / 2 - 100, height / 2 + 100)// checking if the ball touched the bottom of the canvas 
                noLoop()// game ends 
            }
            if (userY < 265 && userY > 235 && userX < x + 125 && userX > x) {// checking if the ball touched the obstacle 
                fill(0, 0, 255)
                textSize(30)
                text("That's too Bad!", width / 2 - 100, height / 2 + 100)
                noLoop()// game ends
            }
        }
    </script>
</head>

<body>
<form><input TYPE="button" onClick="history.go(0)" value="Reset"></form>


</body>

</html>
