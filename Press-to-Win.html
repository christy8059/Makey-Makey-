<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>p5js Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.13/p5.js"></script>
    <script>
        var x = 0
        var userY = 400
        var userX = 250
        var started = false;

        function setup() {
            createCanvas(500, 500);
        }

        function draw() {
            if (started) {
                stroke(0)
                text("Press SPACE to play", 100, 250);
                
                
                x += 10 
                userY++;

                background(0);

                userBall()
                drawRectangle()
                checkCollide()
            }
            else {
                background(0);
                stroke(0);
                textAlign(CENTER);
                textSize(30);
                fill(255)
                text("Press SPACE to play", width / 2, height / 2);
            }

        }

        function drawRectangle() {
            fill(0, 255, 0)
            rect(x, 250, 125, 15)
            if (x > width) {
                x = 0
            }
        }

        function userBall() {
            fill(255, 0, 0)
            ellipse(userX, userY, 20, 20)
            fill(255)
        }

        function keyPressed() {
            if (key == " ") {
                started = true
                userY -= 20
            }
        }

        function checkCollide() {
            if (userY <= 0) {
                fill(0, 0, 255)
                textSize(30)
                text("Good Job. You Won!", width / 2 - 125, height / 2 - 100)
                noLoop()
            }
            if (userY > height) {
                fill(0, 0, 255)
                textSize(30)
                text("That's too Bad!", width / 2 - 100, height / 2 + 100)
                noLoop()
            }
            if (userY < 265 && userY > 235 && userX < x + 125 && userX > x) {
                fill(0, 0, 255)
                textSize(30)
                text("That's too Bad!", width / 2 - 100, height / 2 + 100)
                noLoop()
            }
        }
    </script>
</head>

<body>

</body>

</html>
